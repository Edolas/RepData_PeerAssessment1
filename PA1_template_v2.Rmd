RepData_PeerAssesment 1
=========
Author: Edolas  
Date: 11Feb15  

First the data is loaded into R as a data table and the date list is converted to a date format.

```{r,cache=TRUE}
data <- read.csv("activity.csv")
data$date <- as.Date(data$date, "%Y-%m-%d")
```

##What is the mean total number of steps taken per day?
To answer this the data are summed by day and a histogram is plotted.

```{r, cache=FALSE}
stepsum <- aggregate(steps ~ date, data=data, FUN=sum)
hist(stepsum$steps, xlab = "total steps / day", main = "Histogram of steps / day", col = "lightgreen", breaks = 10)
```

Now we can also generate the mean and median of the total number of steps taken each day.
```{r}
mean(stepsum$steps)
median(stepsum$steps)
```

##What is the average daily activity pattern?
Now the data is aggregated by the interval instead of the day to answer the daily activity pattern.

```{r}
timesum <- aggregate(steps ~ interval, data=data, FUN=mean)
plot(timesum$interval, timesum$steps, type = "l", ylab = "mean number of steps", xlab = "24h in 5 min intervals (min)", xaxt="n")
axis(1,at = seq(0, 2400, by= 400), las = 2)
```

And to find where the maximum number of steps is taken on average across all the days in the dataset

```{r}
timesum[which.max(timesum$steps),]
```

##Imputing missing values

First we look up the number of missing values.

```{r}
sum(is.na(data))
```

It is assumed the NAs are derived from moments when there is no movement and thus the NAs are replaced with zeros.

```{r}
dataNoNA <- data
dataNoNA[is.na(dataNoNA)] <- 0
```

In order to compare this data to the previous dataset they are combined with the original data in a new dataset. This is then plotted together in an overlay histogram to see which bins show a difference.

```{r}
stepsumNoNA <- aggregate(steps ~ date, data=dataNoNA, FUN=sum)
        stepsum$type <- "NA"
        stepsumNoNA$type <- "NoNA"
        Totalsum <- rbind(stepsum, stepsumNoNA)
library(ggplot2)
        ggplot(Totalsum, aes(steps, fill = type)) + geom_histogram(alpha = 0.5, position = 'identity', binwidth = 2500)
```

